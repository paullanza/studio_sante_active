/* New Session/Booking page:
   - Desktop: right card is two vertical panes.
   - If services turbo-frame has content => split 50/50.
   - If empty => services pane collapses; sessions fills.
   - Both tables scroll (scrollbars visible). */

.session-new,
.booking-new {
  .card { border-radius: 1rem; }
  .session-form .form-label { font-weight: 600; }
  .card-body { padding: 1rem !important; }

  @media (min-width: 992px) {
    /* Make both main cards equal height */
    .stretch-card { height: calc(100vh - 2rem); }
    .stretch-card > .card-body {
      height: 100%;
      display: flex;
      flex-direction: column;
      min-height: 0;
    }

    /* Right card container */
    .tables-split {
      flex: 1 1 auto;
      display: flex;
      flex-direction: column;
      gap: .75rem;
      min-height: 0;
    }

    /* Pane + table scrolling */
    .pane {
      display: flex;
      flex-direction: column;
      min-height: 0;
    }
    .pane .table-scroll {
      flex: 1 1 0;
      min-height: 0;
      overflow: auto;
      -webkit-overflow-scrolling: touch;
    }

    /* Hide services pane when its turbo-frame is empty */
    .pane-services:has(turbo-frame#services_table:empty) { display: none; }

    /* Split evenly when services has content */
    .tables-split:has(.pane-services turbo-frame#services_table:not(:empty)) .pane-services,
    .tables-split:has(.pane-services turbo-frame#services_table:not(:empty)) .pane-sessions {
      flex: 1 1 0;
      min-height: 0;
    }

    /* Default (no services): sessions fills */
    .pane-sessions { flex: 1 1 auto; }

    /* Prevent the turbo-frame wrapper from affecting layout */
    .pane-services turbo-frame#services_table { display: contents; }
  }

  /* Small gap between inline checks on wider mobiles */
  .form-check + .form-check {
    margin-left: 0;
    @media (min-width: 576px) { margin-left: 1rem; }
  }
}
