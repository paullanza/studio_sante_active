<div class="container mt-4">
  <h1 class="mb-4">Service Session Definitions</h1>

  <table class="table table-hover">
    <thead>
      <tr>
        <th>Service ID</th>
        <th>Service Name</th>
        <th>Paid Sessions</th>
        <th>Free Sessions</th>
        <th class="text-end">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @services.each_value do |defn| %>
        <tr>
          <td>
            <%= link_to defn.service_id, admin_service_path(defn), class: "text-decoration-none" %>
          </td>

          <td>
            <%= link_to(defn.service_name.presence || "â€”",
                        admin_service_path(defn),
                        class: "text-decoration-none") %>
          </td>

          <%= form_with url: update_admin_service_path(defn),
                        method: :patch,
                        class: "d-flex",
                        local: true do |f| %>
            <td><%= f.number_field :paid_sessions, value: defn.paid_sessions, class: "form-control form-control-sm" %></td>
            <td><%= f.number_field :free_sessions, value: defn.free_sessions, class: "form-control form-control-sm" %></td>
            <td class="text-end">
              <%= f.submit "Update", class: "btn btn-sm btn-outline-primary" %>
            </td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>

  <%= link_to "Back to Dashboard", admin_dashboard_path, class: "btn btn-secondary mt-3" %>
</div>
