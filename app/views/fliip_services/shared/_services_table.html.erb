<% fmt_date = ->(d) { d.present? ? d.strftime("%d/%m/%Y") : "—" } %>
<% fmt_num  = ->(n) { ('%.1f' % n.to_f) } %>

<div class="table-responsive">
  <table class="table table-hover align-middle compact-bars">
    <thead class="table-light">
      <tr>
        <th class="text-nowrap">Client·e</th>
        <th class="text-nowrap">Service</th>
        <th class="text-nowrap">Progression</th>
      </tr>
    </thead>

    <tbody>
      <% if services.any? %>
        <% services.each do |svc| %>
          <%= render partial: "fliip_services/shared/service_row", locals: { svc: svc } %>
        <% end %>
      <% else %>
        <tr>
          <td colspan="3" class="text-muted">Aucun service à afficher.</td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
